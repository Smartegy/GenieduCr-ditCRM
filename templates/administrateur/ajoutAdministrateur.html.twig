{% extends 'base.html.twig' %}
{% set page_title = 'Ajouter Administrateur' %}
{% set P_page_title = 'Liste des Administrateur' %}
{% set P_path = '/administrateur' %}


{% block PageTitle %} 
{% endblock %}
{% block body %}


<!--begin::Body-->
<body id="kt_body" class="header-fixed header-tablet-and-mobile-fixed toolbar-enabled toolbar-fixed aside-enabled aside-fixed" style="--kt-toolbar-height:55px;--kt-toolbar-height-tablet-and-mobile:55px">
<!--begin::Main-->
<!--begin::Root-->
<div class="d-flex flex-column flex-root">
    <!--begin::Page-->
    <div class="page flex-row flex-column-fluid">

        <!--begin::Wrapper-->
        <div>
       
            <!--begin::Content-->
            <div class="content d-flex flex-column flex-column-fluid" id="kt_content">
              
                <!--begin::Post-->
                <div class="post d-flex flex-column-fluid" id="kt_post">
                    <!--begin::Container-->
                    <div id="kt_content_container" class="container-xxl">

                        <!--begin::Basic info-->
                        <div class="card mb-5 mb-xl-10">
                            <div class="card-header border-0 cursor-pointer" role="button" data-bs-toggle="collapse" data-bs-target="#kt_account_profile_details" aria-expanded="true" aria-controls="kt_account_profile_details">
                                <!--begin::Card title-->
                                <div class="card-title m-0">
                                    <!-- <h3 class="fw-bolder m-0">Ajout Administrateur</h3>-->
                                </div>
                                <!--end::Card title-->
                            </div>

                            <div id="kt_modal_add_customer_form" class="collapse show">
                                <div id="kt_modal_add_customer_form" class="collapse show">
                                    {{ form_start(form, {'attr': {'class': 'form fv-plugins-bootstrap5 fv-plugins-framework needs-validation" ' ,
                                                                 novalidate : 'novalidate' } 
                                                      })   }} 
                                                      
                                <div class="row mb-8">  
                               
                                       <div class="col-sm-4">
                                            {{ form_row(form.authenvoiemails, {"label":"Authorisation Envoi Email "}) }}
                                            </div>
                                            
                                     <div class="col-sm-4">
                                            {{ form_row(form.authenvoisms, {"label":"Authorisation Envoi SMS "}) }}
                                            </div>
                                            
                                </div>
                                    <div class="row mb-6">

                                        {{ form_label(form.utilisateur.nom, "Nom  :", {'label_attr': {'class':"col-lg-4 col-form-label fw-bold fs-6"}}) }}

                                        <div class="col-lg-8 fv-row fv-plugins-icon-container">
                                            {{ form_widget(form.utilisateur.nom, {'attr': {'class': 'form-control form-control-lg form-control-solid'}}) }}
                                          
                                            {{ form_errors(form.utilisateur.nom) }}

                                        </div>
                                    </div>
                                    <div class="row mb-6">

                                        {{ form_label(form.utilisateur.courriel, "Courriel :", {'label_attr': {'class':"col-lg-4 col-form-label  fw-bold fs-6"}}) }}

                                        <div class="col-lg-8 fv-row fv-plugins-icon-container">
                                            {{ form_widget(form.utilisateur.courriel, {'attr': {'class': 'form-control form-control-lg form-control-solid'}}) }}
                                            {{ form_errors(form.utilisateur.courriel) }}

                                        </div>
                                    </div>

                                    <div class="row mb-6">

                                        {{ form_label(form.utilisateur.nomutilisateur, "Nom Utilisateur  :", {'label_attr': {'class':"col-lg-4 col-form-label fw-bold fs-6"}}) }}
                                        
                                        <div class="col-lg-8 fv-row fv-plugins-icon-container">
                                            {{ form_widget(form.utilisateur.nomutilisateur, {'attr': {'class': 'form-control form-control-lg form-control-solid'}}) }}
                                            {{ form_errors(form.utilisateur.nomutilisateur) }}

                                        </div>
                                    </div>

                                    <div class="row mb-6">

                                        {{ form_label(form.utilisateur.password, "Mot de Passe :", {'label_attr': {'class':"col-lg-4 col-form-label required fw-bold fs-6"}}) }}

                                        <div class="col-lg-8 fv-row fv-plugins-icon-container">
                                            {{ form_widget(form.utilisateur.password, {'attr': {'class': 'form-control form-control-lg form-control-solid'}}) }}
                                            {{ form_errors(form.utilisateur.password) }}

                                        </div>
                                    </div>

                                    <div class="row mb-6">

                                        {{ form_label(form.utilisateur.telephone, "Téléphone :", {'label_attr': {'class':"col-lg-4 col-form-label  fw-bold fs-6"}}) }}

                                        <div class="col-lg-8 fv-row fv-plugins-icon-container">
                                            {{ form_widget(form.utilisateur.telephone, {'attr': {'class': 'form-control form-control-lg form-control-solid'}}) }}
                                            {{ form_errors(form.utilisateur.telephone) }}

                                        </div>
                                    </div>


                                        <div class="card-footer d-flex justify-content-end py-6 px-9">
                                            <button type="reset" class="btn btn-light btn-active-light-primary me-2" id="kt_modal_add_customer_cancel"><a href="{{path("administrateur")}}"> Annuler</a></button>
                                            {# <button type="submit" class="btn btn-primary" id="kt_modal_add_customer_submit">Ajouter</button> #}

                                            <button type="submit" class="btn btn-primary me-10" id="kt_modal_add_customer_submit">
                                            <span class="indicator-label">  Ajouter  </span>
                                             <span class="indicator-progress">  Please wait...
                                              <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                               </span>
                                            </button>
											<!--end::Actions-->

                                        </div>

                                        {# Fermeture de la balise <form> du formulaire HTML #}
                                        {{ form_end(form) }}
                                    </div>
                                </div>
                            </div>

                        </div>
                        <!--end::Basic info-->

                    </div>
                    <!--end::Container-->
                </div>
                <!--end::Post-->
            </div>
          
          
            <!--end::Footer-->
        </div>
        <!--end::Wrapper-->
    </div>
    <!--end::Page-->
</div>
<!--end::Root-->
<!--begin::Drawers-->


<!--end::Drawers-->
<!--end::Main-->

<script> 
$('.form').submit(function(event) {

    // your custom validation

    event.preventDefault()
})
</script>

<script>
var button = document.querySelector("#kt_modal_add_customer_submit");

// Handle button click event
button.addEventListener("click", function() {
    // Activate indicator
    button.setAttribute("data-kt-indicator", "on");
    // Disable indicator after 3 seconds
    setTimeout(function() {
        button.removeAttribute("data-kt-indicator");
    }, 3000);
});

</script>

		<script src="{{asset('/js/custom/apps/user-management/users/list/add.js')}}"></script>


</body>
{% endblock %}